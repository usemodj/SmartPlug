<navbar></navbar>

<div class="container">

  <div class="row">
    <h1 class="text-center login-title">Change Password</h1>
    <div class="col-sm-6 col-md-4 col-md-offset-4 signup-well">
      <form class="form" name="form" ng-submit="vm.resetPassword(form)" novalidate>
        <div class="form-group" ng-class="{
                     'has-warning': form.email.$dirty,
                     'has-success': form.email.$valid && form.email.$dirty && !form.email.$error.server,
                     'has-error': form.email.$invalid && form.email.$dirty || form.email.$error.server
                     }">
          <input class="form-control" placeholder="Your Email" type="email" name="email" ng-model="vm.user.email" required autofocus on-focus mongoose-error/>
          <p class="help-block" ng-show="form.email.$error.email && !form.email.$focused">
            Not a valid email.
          </p>
          <p class="help-block" ng-show="form.email.$error.mongoose">
            {{ vm.errors.email }}
          </p>
        </div>

        <div class="form-group" ng-class="{'has-warning': form.password.$dirty,
                                'has-success': form.password.$valid && form.password.$dirty && !form.password.$error.server,
                                'has-error': form.password.$invalid && form.password.$dirty || form.password.$error.server
                                }">
          <input class="form-control" placeholder="New Password" type="password" name="password" ng-model="vm.user.password" ng-minlength="5" required mongoose-error/>
          <p class="help-block" ng-show="(form.password.$error.minlength || form.password.$invalid)
                                && form.password.$dirty
                                && !form.password.$error.required">
            Password must be at least 5 characters.
          </p>
          <p class="help-block" ng-show="form.password.$error.mongoose">
            {{ vm.errors.password }}
          </p>
        </div>

        <div class="form-group" ng-class="{'has-warning': form.confirmPassword.$dirty,
                                'has-success': form.confirmPassword.$valid && form.confirmPassword.$dirty && !form.confirmPassword.$error.server,
                                'has-error': form.confirmPassword.$invalid && form.confirmPassword.$dirty || form.confirmPassword.$error.server
                                }">
          <input class="form-control" placeholder="Confirm Password" type="password" name="confirmPassword" ng-model="vm.user.confirmPassword"
                 match="vm.user.password" ng-minlength="5" required mongoose-error/>
          <p class="help-block" ng-show="form.confirmPassword.$error.match">
            Passwords don't match.
          </p>
          <p class="help-block" ng-show="form.confirmPassword.$error.mongoose">
            {{ vm.errors.confirmPassword }}
          </p>
        </div>
        <div class="form-group" ng-class="{'has-success': true}">
          <p class="help-block" show="form.password.$success.mongoose">
            {{ vm.success.password}}
          </p>
        </div>
        <br />
        <button class="btn btn-lg btn-primary btn-block " type="submit " ng-disabled="form.$invalid ">Change password</button>
      </form>

    </div>
  </div>
</div>
